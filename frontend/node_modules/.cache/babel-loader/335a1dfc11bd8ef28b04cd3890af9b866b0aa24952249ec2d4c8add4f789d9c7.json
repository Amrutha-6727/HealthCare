{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arrur\\\\Downloads\\\\HealthCareApplication\\\\frontend\\\\src\\\\pages\\\\Appointments.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { fetchAppointments, updateAppointment, fetchUser, fetchCoach } from '../api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Appointments() {\n  _s();\n  const [appointments, setAppointments] = useState([]);\n  useEffect(() => {\n    fetchAppointments().then(setAppointments).catch(() => setAppointments([]));\n  }, []);\n  const [resolved, setResolved] = useState({});\n  useEffect(() => {\n    (async () => {\n      const users = {};\n      const coaches = {};\n      await Promise.all(appointments.map(async a => {\n        if (a.userId && !users[a.userId]) {\n          users[a.userId] = await fetchUser(a.userId).catch(() => ({\n            username: a.userId\n          }));\n        }\n        if (a.coachId && !coaches[a.coachId]) {\n          coaches[a.coachId] = await fetchCoach(a.coachId).catch(() => ({\n            username: a.coachId\n          }));\n        }\n      }));\n      setResolved({\n        users,\n        coaches\n      });\n    })();\n  }, [appointments]);\n  const takeAction = async (id, action) => {\n    await updateAppointment(id, {\n      status: action,\n      coachComments: action === 'ACCEPTED' ? 'Accepted' : 'Rejected'\n    });\n    fetchAppointments().then(setAppointments);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Appointments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), appointments.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"No appointments found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 35\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gap: 12\n      },\n      children: appointments.map(a => {\n        var _resolved$users$a$use, _resolved$coaches$a$c;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            border: '1px solid #eee',\n            padding: 12,\n            borderRadius: 6\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 700\n                },\n                children: [\"#\", a.id, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    marginLeft: 8,\n                    color: '#666'\n                  },\n                  children: a.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 39,\n                  columnNumber: 55\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 39,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"User: \", resolved.users && ((_resolved$users$a$use = resolved.users[a.userId]) === null || _resolved$users$a$use === void 0 ? void 0 : _resolved$users$a$use.username) || a.userId]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 40,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Coach: \", resolved.coaches && ((_resolved$coaches$a$c = resolved.coaches[a.coachId]) === null || _resolved$coaches$a$c === void 0 ? void 0 : _resolved$coaches$a$c.username) || a.coachId]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 41,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Date: \", a.appointmentDate, \" Slot: \", a.slot]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 42,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: a.status === 'PENDING' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => takeAction(a.id, 'ACCEPTED'),\n                  style: {\n                    marginRight: 8\n                  },\n                  children: \"Accept\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 47,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => takeAction(a.id, 'REJECTED'),\n                  children: \"Reject\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 48,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 13\n          }, this)\n        }, a.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n_s(Appointments, \"OMFl5kehLADOQaMlr6/Gq9/9KnE=\");\n_c = Appointments;\nvar _c;\n$RefreshReg$(_c, \"Appointments\");","map":{"version":3,"names":["React","useEffect","useState","fetchAppointments","updateAppointment","fetchUser","fetchCoach","jsxDEV","_jsxDEV","Fragment","_Fragment","Appointments","_s","appointments","setAppointments","then","catch","resolved","setResolved","users","coaches","Promise","all","map","a","userId","username","coachId","takeAction","id","action","status","coachComments","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","length","display","gap","_resolved$users$a$use","_resolved$coaches$a$c","border","borderRadius","justifyContent","alignItems","fontWeight","marginLeft","color","appointmentDate","slot","onClick","marginRight","_c","$RefreshReg$"],"sources":["C:/Users/arrur/Downloads/HealthCareApplication/frontend/src/pages/Appointments.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport { fetchAppointments, updateAppointment, fetchUser, fetchCoach } from '../api';\r\n\r\nexport default function Appointments(){\r\n  const [appointments,setAppointments]=useState([]);\r\n  useEffect(()=>{ fetchAppointments().then(setAppointments).catch(()=>setAppointments([])); },[]);\r\n  const [resolved, setResolved] = useState({});\r\n\r\n  useEffect(()=>{\r\n    (async ()=>{\r\n      const users = {};\r\n      const coaches = {};\r\n      await Promise.all(appointments.map(async (a)=>{\r\n        if(a.userId && !users[a.userId]){\r\n          users[a.userId] = await fetchUser(a.userId).catch(()=>({username:a.userId}));\r\n        }\r\n        if(a.coachId && !coaches[a.coachId]){\r\n          coaches[a.coachId] = await fetchCoach(a.coachId).catch(()=>({username:a.coachId}));\r\n        }\r\n      }));\r\n      setResolved({users, coaches});\r\n    })();\r\n  },[appointments]);\r\n\r\n  const takeAction = async (id, action)=>{\r\n    await updateAppointment(id, {status: action, coachComments: action==='ACCEPTED'? 'Accepted':'Rejected'});\r\n    fetchAppointments().then(setAppointments);\r\n  }\r\n\r\n  return (\r\n    <div style={{padding:20}}>\r\n      <h2>Appointments</h2>\r\n      {appointments.length===0 && <div>No appointments found</div>}\r\n      <div style={{display:'grid', gap:12}}>\r\n        {appointments.map(a=> (\r\n          <div key={a.id} style={{border:'1px solid #eee', padding:12, borderRadius:6}}>\r\n            <div style={{display:'flex', justifyContent:'space-between', alignItems:'center'}}>\r\n              <div>\r\n                <div style={{fontWeight:700}}>#{a.id} <span style={{marginLeft:8, color:'#666'}}>{a.status}</span></div>\r\n                <div>User: {resolved.users && resolved.users[a.userId]?.username || a.userId}</div>\r\n                <div>Coach: {resolved.coaches && resolved.coaches[a.coachId]?.username || a.coachId}</div>\r\n                <div>Date: {a.appointmentDate} Slot: {a.slot}</div>\r\n              </div>\r\n              <div>\r\n                {a.status==='PENDING' && (\r\n                  <>\r\n                    <button onClick={()=>takeAction(a.id, 'ACCEPTED')} style={{marginRight:8}}>Accept</button>\r\n                    <button onClick={()=>takeAction(a.id, 'REJECTED')}>Reject</button>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAChD,SAASC,iBAAiB,EAAEC,iBAAiB,EAAEC,SAAS,EAAEC,UAAU,QAAQ,QAAQ;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAErF,eAAe,SAASC,YAAYA,CAAA,EAAE;EAAAC,EAAA;EACpC,MAAM,CAACC,YAAY,EAACC,eAAe,CAAC,GAACZ,QAAQ,CAAC,EAAE,CAAC;EACjDD,SAAS,CAAC,MAAI;IAAEE,iBAAiB,CAAC,CAAC,CAACY,IAAI,CAACD,eAAe,CAAC,CAACE,KAAK,CAAC,MAAIF,eAAe,CAAC,EAAE,CAAC,CAAC;EAAE,CAAC,EAAC,EAAE,CAAC;EAC/F,MAAM,CAACG,QAAQ,EAAEC,WAAW,CAAC,GAAGhB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAE5CD,SAAS,CAAC,MAAI;IACZ,CAAC,YAAU;MACT,MAAMkB,KAAK,GAAG,CAAC,CAAC;MAChB,MAAMC,OAAO,GAAG,CAAC,CAAC;MAClB,MAAMC,OAAO,CAACC,GAAG,CAACT,YAAY,CAACU,GAAG,CAAC,MAAOC,CAAC,IAAG;QAC5C,IAAGA,CAAC,CAACC,MAAM,IAAI,CAACN,KAAK,CAACK,CAAC,CAACC,MAAM,CAAC,EAAC;UAC9BN,KAAK,CAACK,CAAC,CAACC,MAAM,CAAC,GAAG,MAAMpB,SAAS,CAACmB,CAAC,CAACC,MAAM,CAAC,CAACT,KAAK,CAAC,OAAK;YAACU,QAAQ,EAACF,CAAC,CAACC;UAAM,CAAC,CAAC,CAAC;QAC9E;QACA,IAAGD,CAAC,CAACG,OAAO,IAAI,CAACP,OAAO,CAACI,CAAC,CAACG,OAAO,CAAC,EAAC;UAClCP,OAAO,CAACI,CAAC,CAACG,OAAO,CAAC,GAAG,MAAMrB,UAAU,CAACkB,CAAC,CAACG,OAAO,CAAC,CAACX,KAAK,CAAC,OAAK;YAACU,QAAQ,EAACF,CAAC,CAACG;UAAO,CAAC,CAAC,CAAC;QACpF;MACF,CAAC,CAAC,CAAC;MACHT,WAAW,CAAC;QAACC,KAAK;QAAEC;MAAO,CAAC,CAAC;IAC/B,CAAC,EAAE,CAAC;EACN,CAAC,EAAC,CAACP,YAAY,CAAC,CAAC;EAEjB,MAAMe,UAAU,GAAG,MAAAA,CAAOC,EAAE,EAAEC,MAAM,KAAG;IACrC,MAAM1B,iBAAiB,CAACyB,EAAE,EAAE;MAACE,MAAM,EAAED,MAAM;MAAEE,aAAa,EAAEF,MAAM,KAAG,UAAU,GAAE,UAAU,GAAC;IAAU,CAAC,CAAC;IACxG3B,iBAAiB,CAAC,CAAC,CAACY,IAAI,CAACD,eAAe,CAAC;EAC3C,CAAC;EAED,oBACEN,OAAA;IAAKyB,KAAK,EAAE;MAACC,OAAO,EAAC;IAAE,CAAE;IAAAC,QAAA,gBACvB3B,OAAA;MAAA2B,QAAA,EAAI;IAAY;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACpB1B,YAAY,CAAC2B,MAAM,KAAG,CAAC,iBAAIhC,OAAA;MAAA2B,QAAA,EAAK;IAAqB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAC5D/B,OAAA;MAAKyB,KAAK,EAAE;QAACQ,OAAO,EAAC,MAAM;QAAEC,GAAG,EAAC;MAAE,CAAE;MAAAP,QAAA,EAClCtB,YAAY,CAACU,GAAG,CAACC,CAAC;QAAA,IAAAmB,qBAAA,EAAAC,qBAAA;QAAA,oBACjBpC,OAAA;UAAgByB,KAAK,EAAE;YAACY,MAAM,EAAC,gBAAgB;YAAEX,OAAO,EAAC,EAAE;YAAEY,YAAY,EAAC;UAAC,CAAE;UAAAX,QAAA,eAC3E3B,OAAA;YAAKyB,KAAK,EAAE;cAACQ,OAAO,EAAC,MAAM;cAAEM,cAAc,EAAC,eAAe;cAAEC,UAAU,EAAC;YAAQ,CAAE;YAAAb,QAAA,gBAChF3B,OAAA;cAAA2B,QAAA,gBACE3B,OAAA;gBAAKyB,KAAK,EAAE;kBAACgB,UAAU,EAAC;gBAAG,CAAE;gBAAAd,QAAA,GAAC,GAAC,EAACX,CAAC,CAACK,EAAE,EAAC,GAAC,eAAArB,OAAA;kBAAMyB,KAAK,EAAE;oBAACiB,UAAU,EAAC,CAAC;oBAAEC,KAAK,EAAC;kBAAM,CAAE;kBAAAhB,QAAA,EAAEX,CAAC,CAACO;gBAAM;kBAAAK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACxG/B,OAAA;gBAAA2B,QAAA,GAAK,QAAM,EAAClB,QAAQ,CAACE,KAAK,MAAAwB,qBAAA,GAAI1B,QAAQ,CAACE,KAAK,CAACK,CAAC,CAACC,MAAM,CAAC,cAAAkB,qBAAA,uBAAxBA,qBAAA,CAA0BjB,QAAQ,KAAIF,CAAC,CAACC,MAAM;cAAA;gBAAAW,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACnF/B,OAAA;gBAAA2B,QAAA,GAAK,SAAO,EAAClB,QAAQ,CAACG,OAAO,MAAAwB,qBAAA,GAAI3B,QAAQ,CAACG,OAAO,CAACI,CAAC,CAACG,OAAO,CAAC,cAAAiB,qBAAA,uBAA3BA,qBAAA,CAA6BlB,QAAQ,KAAIF,CAAC,CAACG,OAAO;cAAA;gBAAAS,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAC1F/B,OAAA;gBAAA2B,QAAA,GAAK,QAAM,EAACX,CAAC,CAAC4B,eAAe,EAAC,SAAO,EAAC5B,CAAC,CAAC6B,IAAI;cAAA;gBAAAjB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChD,CAAC,eACN/B,OAAA;cAAA2B,QAAA,EACGX,CAAC,CAACO,MAAM,KAAG,SAAS,iBACnBvB,OAAA,CAAAE,SAAA;gBAAAyB,QAAA,gBACE3B,OAAA;kBAAQ8C,OAAO,EAAEA,CAAA,KAAI1B,UAAU,CAACJ,CAAC,CAACK,EAAE,EAAE,UAAU,CAAE;kBAACI,KAAK,EAAE;oBAACsB,WAAW,EAAC;kBAAC,CAAE;kBAAApB,QAAA,EAAC;gBAAM;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAC1F/B,OAAA;kBAAQ8C,OAAO,EAAEA,CAAA,KAAI1B,UAAU,CAACJ,CAAC,CAACK,EAAE,EAAE,UAAU,CAAE;kBAAAM,QAAA,EAAC;gBAAM;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA,eAClE;YACH;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC,GAhBEf,CAAC,CAACK,EAAE;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAiBT,CAAC;MAAA,CACP;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC3B,EAAA,CAtDuBD,YAAY;AAAA6C,EAAA,GAAZ7C,YAAY;AAAA,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}